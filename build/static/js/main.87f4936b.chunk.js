(this["webpackJsonptech-news"]=this["webpackJsonptech-news"]||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(42),c=n.n(r),o=Object(a.createContext)(),s=Object(a.createContext)(),l=n(209),i=n(212),u=n(214),j=n(213),d=n(203),b=n(198),p=n(1),x=function(e){var t=e.entry,n=t.points,a=t.author,r=t.title,c=t.url,o=t.num_comments;return Object(p.jsx)(l.a,{children:Object(p.jsx)(i.a,{primary:Object(p.jsx)(d.a,{enterDelay:500,TransitionComponent:b.a,title:c||r,arrow:!0,children:Object(p.jsx)(u.a,{underline:"none",href:c,children:Object(p.jsx)(j.a,{component:"span",color:c?"primary":"secondary",children:r})})}),secondary:Object(p.jsxs)(j.a,{color:"text.secondary",variant:"body2",children:[Object(p.jsx)(j.a,{sx:{fontSize:14},component:"span",children:"".concat(n," point").concat(1===n?"":"s"," by ")}),Object(p.jsx)(j.a,{component:"span",sx:{fontStyle:"italic",fontSize:14},children:a}),Object(p.jsx)(j.a,{sx:{fontSize:14},component:"span",children:" | ".concat(o," comments")})]})})})},h=Object(a.createContext)(),g=n(208),O=function(){var e=Object(a.useContext)(h);return Object(p.jsx)(a.Fragment,{children:null!==e.alert&&Object(p.jsx)(g.a,{severity:e.alert.type,children:e.alert.msg})})},f=n(206),m=n(207),y=n(211),v=n(218),w=n(217),C=n(199),S=function(){var e=Object(a.useContext)(s),t=e.changeSort,n=e.sort;return Object(p.jsxs)(w.a,{style:{float:"right"},sx:{mt:1},component:"fieldset",children:[Object(p.jsx)(C.a,{sx:{mr:2,display:{xs:"none",sm:"block"}},style:{textAlign:"right",position:"absolute",transform:"translate(-130%, -50%)",top:"50%"},component:"legend",children:"Sort by:"}),Object(p.jsxs)(y.a,{row:!0,"aria-label":"gender",name:"row-radio-buttons-group",value:n,onChange:function(e){t(e.target.value)},children:[Object(p.jsx)(v.a,{value:"search",control:Object(p.jsx)(m.a,{}),label:"Points"}),Object(p.jsx)(v.a,{value:"search_by_date",control:Object(p.jsx)(m.a,{}),label:"Newest"})]})]})},P=n(219),E=n(200);function N(){return Object(p.jsx)(E.a,{style:{width:"200px",margin:"auto",display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(p.jsx)(P.a,{})})}var k,A=function(){var e=Object(a.useContext)(s),t=Object(a.useContext)(h),n=e.getNews,r=e.news,c=e.loading,o=e.input,l=e.searchNews,i=e.currentPage,u=e.changePage,j=e.sort,d=t.setAlert,b=t.clearAlert,g=r.hits,m=r.nbPages,y=function(e,t){u(t-1)};return Object(a.useEffect)((function(){"tags=front_page"===o?n(i,j):l(o,i,j),!g&&!c&&d("No results found. Please try something else","error")}),[i,o,j]),Object(a.useEffect)((function(){c||0!==g.length||d("No results found. Please try something else","error"),c&&b()}),[l]),Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(O,{}),!c&&0!==g.length&&Object(p.jsx)(f.a,{variant:"outlined",count:m,page:i+1,onChange:y,color:"primary",size:"medium",sx:{mt:2,ml:1.5,display:{xs:"none",md:"block"}},style:{position:"absolute"}}),!c&&0!==g.length&&Object(p.jsx)(S,{}),c?Object(p.jsx)(N,{}):g.map((function(e){return Object(p.jsx)(x,{entry:e},e.objectID)})),!c&&0!==g.length&&Object(p.jsx)(f.a,{variant:"outlined",count:m,page:i+1,onChange:y,color:"primary",sx:{pb:4,mt:1,ml:2,size:{xs:"small",sm:"large"}}})]})},_=n(63),I=n.n(_),M=n(88),T=n(13),R=n(25),z="GET_NEWS",G="SEARCH_NEWS",W="CHANGE_PAGE",H="CHANGE_INPUT",D="CHANGE_SORT",J="LOAD",F="SET_ALERT",L="REMOVE_ALERT",q=function(e,t){switch(t.type){case G:return Object(R.a)(Object(R.a)({},e),{},{news:t.payload.news,loading:!1,input:t.payload.input});case W:return Object(R.a)(Object(R.a)({},e),{},{currentPage:t.payload});case H:return Object(R.a)(Object(R.a)({},e),{},{input:t.payload});case D:return Object(R.a)(Object(R.a)({},e),{},{sort:t.payload});case z:return Object(R.a)(Object(R.a)({},e),{},{news:t.payload.news,loading:!1});case J:return Object(R.a)(Object(R.a)({},e),{},{loading:!0});default:return e}},B=function(e){var t=Object(a.useReducer)(q,{news:{},loading:!0,input:"tags=front_page",currentPage:0,sort:"search"}),n=Object(T.a)(t,2),r=n[0],c=n[1],o=function(){var e=Object(M.a)(I.a.mark((function e(){var t,n,a,o,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:r.currentPage,n=s.length>1&&void 0!==s[1]?s[1]:r.sort,c({type:J}),e.prev=3,e.next=6,fetch("https://hn.algolia.com/api/v1/".concat(n,"?").concat(r.input,"&page=").concat(t));case 6:return a=e.sent,e.next=9,a.json();case 9:o=e.sent,c({type:z,payload:{news:o}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(M.a)(I.a.mark((function e(t){var n,a,o,s,l=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:r.currentPage,a=l.length>2&&void 0!==l[2]?l[2]:r.sort,c({type:J}),e.prev=3,e.next=6,fetch("https://hn.algolia.com/api/v1/".concat(a,"?query=").concat(t,"&tags=story&page=").concat(n));case 6:return o=e.sent,e.next=9,o.json();case 9:s=e.sent,c({type:G,payload:{news:s,input:t}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(s.Provider,{value:{news:r.news,input:r.input,loading:r.loading,currentPage:r.currentPage,sort:r.sort,getNews:o,searchNews:l,changePage:function(e){c({type:W,payload:e})},resetPages:function(){c({type:W,payload:0})},changeInput:function(e){c({type:H,payload:e})},changeSort:function(e){c({type:D,payload:e})}},children:e.children})},U=n(27),V=n(204),Y=n(201),K=n(100),Q=Object(K.a)(V.a)(k||(k=Object(U.a)(["\n  & label.Mui-focused,\n  label {\n    color: white;\n  }\n  & .MuiOutlinedInput-root {\n    &.Mui-focused fieldset,\n    fieldset {\n      border-color: white;\n    }\n    &:hover fieldset {\n      border-color: grey;\n    }\n  }\n"]))),X=function(){var e=Object(a.useContext)(s),t=Object(a.useContext)(h),n=e.resetPages,r=e.changeInput,c=t.setAlert,o=t.clearAlert,l=Object(a.useState)(""),i=Object(T.a)(l,2),u=i[0],j=i[1];return Object(p.jsx)(Y.a,{component:"form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),u?(n(),o(),r(u),j("")):c("Please write something!","warning",!0)},textColor:"white",style:{display:"inline-flex",alignItems:"center",justifyContent:"flex-end",textColor:"white"},sx:{position:{xs:{position:"absolute",right:"0"},md:"initial"},width:{xs:"100%",md:"initial"}},children:Object(p.jsx)(Q,{id:"filled-search",label:"Search news",variant:"outlined",size:"small",value:u,onChange:function(e){j(e.target.value)},sx:{input:{color:"white"}}})})},Z=n(220),$=n(221),ee=n(103),te=n.n(ee),ne=n(216),ae=n(105),re=n.n(ae),ce=n(104),oe=n.n(ce),se=function(){var e=Object(a.useContext)(o),t=e.mode,n=e.toggleMode;return Object(p.jsx)(E.a,{sx:{flexGrow:1,bgcolor:"background.default",color:"text.primary"},children:Object(p.jsx)(Z.a,{position:"static",children:Object(p.jsxs)($.a,{children:[Object(p.jsx)(E.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},color:"inherit",sx:{mr:2},children:Object(p.jsx)(te.a,{fontSize:"large",sx:{boxShadow:"2px 4px 3px rgba(0,0,0,0.3)"}})}),Object(p.jsx)(j.a,{variant:"h5",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",md:"block"},letterSpacing:8,ml:4,fontWeight:900,fontFamily:"Roboto Slab",textShadow:"2px 4px 3px rgba(0,0,0,0.5)"},children:"TECHY NEWS"}),Object(p.jsx)(X,{}),Object(p.jsx)(ne.a,{sx:{ml:2},onClick:function(){n()},color:"inherit",children:"dark"===t?Object(p.jsx)(oe.a,{}):Object(p.jsx)(re.a,{})})]})})})},le=function(e,t){switch(t.type){case F:return t.payload;case L:return null;default:return e}},ie=function(e){var t=Object(a.useReducer)(le,null),n=Object(T.a)(t,2),r=n[0],c=n[1];return Object(p.jsx)(h.Provider,{value:{alert:r,setAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c({type:F,payload:{msg:e,type:t}}),n&&setTimeout((function(){return c({type:L})}),3e3)},clearAlert:function(){c({type:L})}},children:e.children})},ue=n(222),je=n(89),de=n(210),be=n(202),pe=(n(141),function(){var e=Object(a.useContext)(o).mode,t=Object(a.useMemo)((function(){return Object(je.a)({palette:{mode:e}})}),[e]);return Object(p.jsx)(B,{children:Object(p.jsx)(ie,{children:Object(p.jsxs)(de.a,{theme:t,children:[Object(p.jsx)(be.a,{}),Object(p.jsxs)(ue.a,{className:"light"===e?"light--mode":"dark--mode",maxWidth:"md",sx:{bgcolor:"background.default",color:"text.primary",p:{xs:0}},children:[Object(p.jsx)(se,{}),Object(p.jsx)(A,{})]})]})})})}),xe=function(e){var t=JSON.parse(localStorage.getItem("darkModePref-techyNews")),n=Object(a.useState)(t||"light"),r=Object(T.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){localStorage.setItem("darkModePref-techyNews",JSON.stringify(c))}),[c]);return Object(p.jsx)(o.Provider,{value:{mode:c,toggleMode:function(){s((function(e){return"light"===e?"dark":"light"}))}},children:e.children})};c.a.render(Object(p.jsx)(xe,{children:Object(p.jsx)(pe,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.87f4936b.chunk.js.map